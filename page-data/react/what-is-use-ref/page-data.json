{"componentChunkName":"component---src-templates-post-template-tsx","path":"/react/what-is-use-ref/","result":{"data":{"posts":{"edges":[{"node":{"fields":{"slug":"/react/what-is-use-ref/"},"html":"<blockquote>\n<p>타 사이트에서 블로그를 운영할 때 작성한 글을 이전했습니다. 🙂</p>\n</blockquote>\n<h2>들어가며</h2>\n<p>React의 Hook 함수 중 하나인 useRef에 대해 정리했습니다. useRef의 개념과 대표적인 3가지 활용 방법을 예시 코드를 통해 살펴보겠습니다. 3가지 활용 방법은 다음과 같습니다.</p>\n<ol>\n<li>\n<p>특정 DOM 선택하기</p>\n</li>\n<li>\n<p>컴포넌트 안의 변수 만들기</p>\n</li>\n<li>\n<p>리렌더링 방지하기</p>\n</li>\n</ol>\n<h2>1. useRef가 무엇인가요?</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8e29faa84f1ef60fbaaad69a55acbff5/ed632/react-use-ref-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHXo6AHB//EABoQAAICAwAAAAAAAAAAAAAAAAABAhEDMTL/2gAIAQEAAQUCeSi2KbH0tn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAMQEQITL/2gAIAQEABj8CRkHI7//EABoQAQADAAMAAAAAAAAAAAAAABEAATEQIXH/2gAIAQEAAT8hUXeBq+kBqJdsyXs08f/aAAwDAQACAAMAAAAQs8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhMRBBUWFxof/aAAgBAQABPxCkEXBhzGi1zew+biDYPu50lCwHFw1gj3fHH//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8e29faa84f1ef60fbaaad69a55acbff5/a59e9/react-use-ref-1.webp 192w,\n/static/8e29faa84f1ef60fbaaad69a55acbff5/0ca9f/react-use-ref-1.webp 384w,\n/static/8e29faa84f1ef60fbaaad69a55acbff5/dc9b9/react-use-ref-1.webp 768w,\n/static/8e29faa84f1ef60fbaaad69a55acbff5/18069/react-use-ref-1.webp 917w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8e29faa84f1ef60fbaaad69a55acbff5/150b2/react-use-ref-1.jpg 192w,\n/static/8e29faa84f1ef60fbaaad69a55acbff5/6985d/react-use-ref-1.jpg 384w,\n/static/8e29faa84f1ef60fbaaad69a55acbff5/19de6/react-use-ref-1.jpg 768w,\n/static/8e29faa84f1ef60fbaaad69a55acbff5/ed632/react-use-ref-1.jpg 917w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8e29faa84f1ef60fbaaad69a55acbff5/19de6/react-use-ref-1.jpg\"\n            alt=\"react-use-ref-1\"\n            title=\"react-use-ref-1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><em>사진 출처: <a href=\"https://livebook.manning.com/book/react-hooks-in-action/chapter-6/v-3/35\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\"use-ref\">livebook.manning.com</a></em></p>\n<blockquote>\n<p>useRef는 <code>.current</code>프로퍼티로 전달된 인자(initialValue)로 초기화된 변경 가능한 <code>ref</code>객체를 반환합니다. 반환된 객체는 컴포넌트의 전 생애주기를 통해 유지될 것입니다. 본질적으로 useRef는 <strong><code>.current</code>프로퍼티에 변경 가능한 값을 담고 있는 상자</strong>와 같습니다.</p>\n</blockquote>\n<p>React 공식 문서에 적혀 있는 useRef 정의입니다. useRef 사용 예제를 통해 위 정의에 대해 자세히 알아보겠습니다.</p>\n<h2>2. useRef를 언제 사용하나요?</h2>\n<h3>2-1. 특정 DOM 선택하기</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 668px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/221f31c04cebd4080c2c663c2d3f907b/f645c/react-use-ref-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyAuD//xAAXEAEAAwAAAAAAAAAAAAAAAAAAARFB/9oACAEBAAEFAtpD/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAABAh/9oACAEBAAY/AiL/xAAXEAADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEBAAE/IY3qFLIGc0//2gAMAwEAAgADAAAAEPAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFRYf/aAAgBAQABPxBwhAaz3sWACtKMTYF+Yn//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/221f31c04cebd4080c2c663c2d3f907b/a59e9/react-use-ref-2.webp 192w,\n/static/221f31c04cebd4080c2c663c2d3f907b/0ca9f/react-use-ref-2.webp 384w,\n/static/221f31c04cebd4080c2c663c2d3f907b/0a665/react-use-ref-2.webp 668w\"\n              sizes=\"(max-width: 668px) 100vw, 668px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/221f31c04cebd4080c2c663c2d3f907b/150b2/react-use-ref-2.jpg 192w,\n/static/221f31c04cebd4080c2c663c2d3f907b/6985d/react-use-ref-2.jpg 384w,\n/static/221f31c04cebd4080c2c663c2d3f907b/f645c/react-use-ref-2.jpg 668w\"\n            sizes=\"(max-width: 668px) 100vw, 668px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/221f31c04cebd4080c2c663c2d3f907b/f645c/react-use-ref-2.jpg\"\n            alt=\"react-use-ref-2\"\n            title=\"react-use-ref-2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><em>사진 출처: <a href=\"https://learnjavascriptfast.com/chapter-7-the-javascript-document-object-model/2/\" target=\"_blank\" rel=\"noreferrer noopener\" aria-label=\"document-object-model\">learnjavascriptfast.com</a></em></p>\n<p>JavaScript를 사용할 때는, 특정 DOM을 선택해야 하는 상황에 <code>getElementById</code>, <code>querySelector</code>같은 DOM Selector 함수를 사용해서 DOM을 선택합니다.</p>\n<blockquote>\n<p>리액트에서는 DOM을 선택할 때 <code>ref</code>를 사용합니다. <strong>함수형 컴포넌트</strong>에서 ref를 사용할 때는 <strong>useRef Hook 함수</strong>를 사용하고 <strong>클래스형 컴포넌트에서</strong>는 <strong>콜백 함수를 사용하거나 React.createRef 함수</strong>를 사용합니다.</p>\n</blockquote>\n<p>이 글에서는 함수형 컴포넌트의 useRef를 사용합니다.</p>\n<h3>2-2. 컴포넌트 안의 변수 만들기</h3>\n<p>컴포넌트 안에서 조회 및 수정할 수 있는 변수를 관리할 수 있습니다.</p>\n<blockquote>\n<p>useRef로 관리하는 변수는 값이 바뀐다고 해서 컴포넌트가 리렌더링되지 않습니다. 리액트 컴포넌트에서의 상태는 상태를 바꾸는 함수를 호출하고 다음 렌더링 이후 업데이트된 상태를 조회할 수 있지만, <strong>useRef로 관리하는 변수는 설정 후 바로 조회</strong>할 수 있습니다.</p>\n</blockquote>\n<p>이 변수를 사용하여 <code>scroll</code>위치와 같은 값을 관리할 수 있습니다.</p>\n<h3>2-3. 리렌더링 방지하기</h3>\n<p>컴포넌트가 렌더링 된다는 것은 함수(컴포넌트)를 호출하여 실행되는 것을 말합니다. 함수가 실행될 때마다 내부에 선언되어 있던 표현식(변수나 또 다른 함수 등)도 매번 다시 선언되어 사용합니다. 컴포넌트는 자신의 <strong><code>state</code>가 변경</strong>되거나, 부모에게서 받는 <strong><code>props</code>가 변경</strong>되었을 때마다 리렌더링 됩니다.</p>\n<blockquote>\n<p>useRef로 관리하는 변수는 값이 바뀐다고 해서 컴포넌트가 리렌더링되지 않으므로 <strong>리렌더링 방지</strong>에 활용할 수 있습니다.</p>\n</blockquote>\n<h2>3. useRef로 DOM 선택하는 방법</h2>\n<blockquote>\n<p>useRef()를 사용하여 <code>Ref</code>객체를 만들고, 이 객체를 선택하고 싶은 DOM에 <code>ref</code>값으로 설정합니다. 그러면, <code>Ref</code>객체의 <code>.current</code>값은 DOM을 가리키게 됩니다.</p>\n</blockquote>\n<p>이 포스팅에서 다룰 예제에서는 <code>onReset</code>함수에서 <code>input</code>에 포커스를 하는 focus() DOM API를 호출했습니다. 초기화 버튼을 클릭했을 때 이름 <code>input</code>에 포커스가 잡히도록 useRef를 사용하여 기능을 구현했습니다.</p>\n<h3>3-1. 객체 생성하기</h3>\n<p>useRef를 통해 <code>nameInput</code>이라는 객체를 생성했습니다.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">const nameInput = useRef();</code>\n        </deckgo-highlight-code>\n<h3>3-2. DOM API 사용</h3>\n<p><code>current</code>가 DOM을 가리키고 있으므로 DOM API 중 하나인 <code>focus</code>를 사용했습니다.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">nameInput.current.focus();</code>\n        </deckgo-highlight-code>\n<h3>3-3. DOM 설정을 통해 DOM에 직접 접근하기</h3>\n<p><code>nameInput</code>객체를 선택하고 싶은 DOM 에 설정하여 직접 접근할 수 있습니다.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">&lt;input\n  name=&quot;name&quot;\n  placeholder=&quot;이름&quot;\n  onChange={onChange}\n  value={name}\n  ref={nameInput}\n/&gt;</code>\n        </deckgo-highlight-code>\n<h3>3-4. 예제 전체 코드</h3>\n<h3>InputSample.js Code</h3>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React, { useState, useRef } from &#39;react&#39;;\n\nfunction InputSample() {\n  const [inputs, setInputs] = useState({\n    name: &#39;&#39;,\n    nickname: &#39;&#39;,\n  });\n\n  const nameInput = useRef();\n\n  const { name, nickname } = inputs;\n\n  const onChange = e =&gt; {\n    const { value, name } = e.target;\n\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n\n  const onReset = () =&gt; {\n    setInputs({\n      name: &#39;&#39;,\n      nickname: &#39;&#39;,\n    });\n\n    nameInput.current.focus();\n  };\n\n  return (\n    &lt;div&gt;\n      &lt;input\n        name=&quot;name&quot;\n        placeholder=&quot;이름&quot;\n        onChange={onChange}\n        value={name}\n        ref={nameInput}\n      /&gt;\n      &lt;input\n        name=&quot;nickname&quot;\n        placeholder=&quot;닉네임&quot;\n        onChange={onChange}\n        value={nickname}\n      /&gt;\n      &lt;button onClick={onReset}&gt;초기화&lt;/button&gt;\n      &lt;div&gt;\n        &lt;b&gt;값: &lt;/b&gt;\n        {name} ({nickname})\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default InputSample;</code>\n        </deckgo-highlight-code>\n<h3>App.js Code</h3>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React from &#39;react&#39;;\nimport InputSample from &#39;./InputSample&#39;;\n\nfunction App() {\n  return &lt;InputSample /&gt;;\n}\n\nexport default App;</code>\n        </deckgo-highlight-code>\n<h3>3-5. 실행 결과</h3>\n<p>초기화 버튼을 클릭했을 때 이름 input에 포커스가 잡힙니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 424px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5b28a58f96769d19ccc905898a7f4710/ffa24/react-use-ref-3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd2wQD//xAAXEAADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEBAAEFAosiP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABgQAAIDAAAAAAAAAAAAAAAAAAARAUFh/9oACAEBAAE/IVUKDI//2gAMAwEAAgADAAAAEIAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxABDAiBDdFnu//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5b28a58f96769d19ccc905898a7f4710/a59e9/react-use-ref-3.webp 192w,\n/static/5b28a58f96769d19ccc905898a7f4710/0ca9f/react-use-ref-3.webp 384w,\n/static/5b28a58f96769d19ccc905898a7f4710/a784c/react-use-ref-3.webp 424w\"\n              sizes=\"(max-width: 424px) 100vw, 424px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5b28a58f96769d19ccc905898a7f4710/150b2/react-use-ref-3.jpg 192w,\n/static/5b28a58f96769d19ccc905898a7f4710/6985d/react-use-ref-3.jpg 384w,\n/static/5b28a58f96769d19ccc905898a7f4710/ffa24/react-use-ref-3.jpg 424w\"\n            sizes=\"(max-width: 424px) 100vw, 424px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5b28a58f96769d19ccc905898a7f4710/ffa24/react-use-ref-3.jpg\"\n            alt=\"react-use-ref-3\"\n            title=\"react-use-ref-3\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2>4. useRef로 컴포넌트 안의 변수 만드는 방법</h2>\n<p>useRef()를 사용할 때 파라미터를 넣어주면, 이 값이 <code>.current</code>값의 기본값이 됩니다. 그리고 이 값을 수정할 때는 <code>.current</code>값을 수정하면 되고 조회할 때도 <code>.current</code>를 조회하면 됩니다.</p>\n<h3>4-1. useRef의 파라미터</h3>\n<p>현재 3개의 <code>id</code>가 있으므로 다음 <code>id</code>의 기본값을 4로 지정했습니다.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">const nextId = useRef(4);</code>\n        </deckgo-highlight-code>\n<h3>4-2. 예제 전체 코드</h3>\n<h3>UserList.js Code</h3>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React from &#39;react&#39;;\n\nfunction User({ user }) {\n  return (\n    &lt;div&gt;\n      &lt;b&gt;{user.username}&lt;/b&gt; &lt;span&gt;({user.email})&lt;/span&gt;\n    &lt;/div&gt;\n  );\n}\n\nfunction UserList({ users }) {\n  return (\n    &lt;div&gt;\n      {users.map(user =&gt; (\n        &lt;User user={user} key={user.id} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n\nexport default UserList;</code>\n        </deckgo-highlight-code>\n<h3>App.js Code</h3>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React, { useRef, useState } from &#39;react&#39;;\nimport UserList from &#39;./UserList&#39;;\n\nfunction App() {\n  const [inputs, setInputs] = useState({\n    username: &#39;&#39;,\n    email: &#39;&#39;,\n  });\n\n  const { username, email } = inputs;\n\n  const onChange = e =&gt; {\n    const { name, value } = e.target;\n\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n\n  const [users, setUsers] = useState([\n    {\n      id: 1,\n      username: &#39;minzidev&#39;,\n      email: &#39;minzidev@gmail.com&#39;,\n    },\n    {\n      id: 2,\n      username: &#39;tester&#39;,\n      email: &#39;tester@example.com&#39;,\n    },\n    {\n      id: 3,\n      username: &#39;liz&#39;,\n      email: &#39;liz@example.com&#39;,\n    },\n  ]);\n\n  const nextId = useRef(4);\n\n  const onCreate = () =&gt; {\n    const user = {\n      id: nextId.current,\n      username,\n      email,\n    };\n\n    console.log(user.id);\n\n    setUsers(users.concat(user));\n\n    setInputs({\n      username: &#39;&#39;,\n      email: &#39;&#39;,\n    });\n\n    nextId.current += 1;\n  };\n\n  return (\n    &lt;&gt;\n      &lt;div&gt;\n        &lt;input\n          name=&quot;username&quot;\n          placeholder=&quot;계정명&quot;\n          onChange={onChange}\n          value={username}\n        /&gt;\n        &lt;input\n          name=&quot;email&quot;\n          placeholder=&quot;이메일&quot;\n          onChange={onChange}\n          value={email}\n        /&gt;\n        &lt;button onClick={onCreate}&gt;등록&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;UserList users={users} /&gt;\n    &lt;/&gt;\n  );\n}\n\nexport default App;</code>\n        </deckgo-highlight-code>\n<h3>4-3. 실행 결과</h3>\n<p><code>id</code>값으로 <code>nextId.current</code>를 사용합니다.</p>\n<p><img src=\"/24cf122fb2e20567c4b82714a5a3d9ca/react-use-ref-4.gif\" alt=\"react-use-ref-4\"></p>\n<h2>5. 리렌더링 방지하는 방법</h2>\n<p>위 예시 코드에는 <code>input</code>값이 변경될 때마다 리렌더링 된다는 단점이 있습니다.</p>\n<blockquote>\n<p><code>onChange</code>구현 부분을 <code>ref</code>값으로 대체해서 단점을 해결할 수 있습니다. <strong><code>state</code>로 <code>event</code>의 <code>value</code>에 접근하지 않고 <code>refObject.current.value</code>를 사용</strong>하는 방법입니다.</p>\n</blockquote>\n<h3>5-1. ref 속성 사용하기</h3>\n<p><code>input</code>의 <code>onChange</code>를 <code>ref</code>속성으로 대체했습니다.</p>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">&lt;div&gt;\n  &lt;input name=&quot;username&quot; placeholder=&quot;계정명&quot; ref={usernameRef} /&gt;\n  &lt;input name=&quot;email&quot; placeholder=&quot;이메일&quot; ref={emailRef} /&gt;\n  &lt;button onClick={onCreate}&gt;등록&lt;/button&gt;\n&lt;/div&gt;</code>\n        </deckgo-highlight-code>\n<h3>5-2. 예제 전체 코드</h3>\n<h3>UserList.js Code</h3>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React from &#39;react&#39;;\n\nfunction User({ user }) {\n  return (\n    &lt;div&gt;\n      &lt;b&gt;{user.username}&lt;/b&gt; &lt;span&gt;({user.email})&lt;/span&gt;\n    &lt;/div&gt;\n  );\n}\n\nfunction UserList({ users }) {\n  return (\n    &lt;div&gt;\n      {users.map(user =&gt; (\n        &lt;User user={user} key={user.id} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n\nexport default UserList;</code>\n        </deckgo-highlight-code>\n<h3>App.js Code</h3>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React, { useRef, useState } from &#39;react&#39;;\nimport UserList from &#39;./UserList&#39;;\nimport InputSample from &#39;./InputSample&#39;;\n\nfunction App() {\n  const [inputs, setInputs] = useState({\n    username: &#39;&#39;,\n    email: &#39;&#39;,\n  });\n\n  const [users, setUsers] = useState([\n    {\n      id: 1,\n      username: &#39;minzidev&#39;,\n      email: &#39;minzidev@gmail.com&#39;,\n    },\n    {\n      id: 2,\n      username: &#39;tester&#39;,\n      email: &#39;tester@example.com&#39;,\n    },\n    {\n      id: 3,\n      username: &#39;liz&#39;,\n      email: &#39;liz@example.com&#39;,\n    },\n  ]);\n\n  const nextId = useRef(4);\n  const usernameRef = useRef(&#39;&#39;);\n  const emailRef = useRef(&#39;&#39;);\n\n  const onCreate = () =&gt; {\n    const user = {\n      id: nextId.current,\n      username: usernameRef.current.value,\n      email: emailRef.current.value,\n    };\n\n    setUsers(users.concat(user));\n\n    setInputs({\n      username: &#39;&#39;,\n      email: &#39;&#39;,\n    });\n\n    nextId.current += 1;\n  };\n\n  console.log(&#39;Render&#39;);\n\n  return (\n    &lt;&gt;\n      &lt;div&gt;\n        &lt;input name=&quot;username&quot; placeholder=&quot;계정명&quot; ref={usernameRef} /&gt;\n        &lt;input name=&quot;email&quot; placeholder=&quot;이메일&quot; ref={emailRef} /&gt;\n        &lt;button onClick={onCreate}&gt;등록&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;UserList users={users} /&gt;\n      &lt;InputSample /&gt;\n    &lt;/&gt;\n  );\n}\n\nexport default App;</code>\n        </deckgo-highlight-code>\n<h3>5-3. 실행 결과</h3>\n<p>처음 컴포넌트를 불러왔을 때, 등록 버튼을 눌렀을 때 2번만 렌더링 되는 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 567px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1ea647e6cd291721ff2d8b7ce48c1c0a/7bb69/react-use-ref-5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAACABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6QpB//xAAWEAADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQEAAQUCEX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAADAQAAAAAAAAAAAAAAAAAAATEQ/9oACAEBAAE/IYY6f//aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAABBAMAAAAAAAAAAAAAAAABABARIUGhsf/aAAgBAQABPxDQYzK8nq//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1ea647e6cd291721ff2d8b7ce48c1c0a/a59e9/react-use-ref-5.webp 192w,\n/static/1ea647e6cd291721ff2d8b7ce48c1c0a/0ca9f/react-use-ref-5.webp 384w,\n/static/1ea647e6cd291721ff2d8b7ce48c1c0a/3549a/react-use-ref-5.webp 567w\"\n              sizes=\"(max-width: 567px) 100vw, 567px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1ea647e6cd291721ff2d8b7ce48c1c0a/150b2/react-use-ref-5.jpg 192w,\n/static/1ea647e6cd291721ff2d8b7ce48c1c0a/6985d/react-use-ref-5.jpg 384w,\n/static/1ea647e6cd291721ff2d8b7ce48c1c0a/7bb69/react-use-ref-5.jpg 567w\"\n            sizes=\"(max-width: 567px) 100vw, 567px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1ea647e6cd291721ff2d8b7ce48c1c0a/7bb69/react-use-ref-5.jpg\"\n            alt=\"react-use-ref-5\"\n            title=\"react-use-ref-5\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2>마치며</h2>\n<p>useRef 개념에 대해 알아본 후 대표적인 3가지 활용 방법을 예제와 함께 정리했습니다.</p>\n<ol>\n<li>\n<p>특정 DOM 선택하기</p>\n</li>\n<li>\n<p>변수 생성하기</p>\n</li>\n<li>\n<p>리렌더링 방지하기</p>\n</li>\n</ol>\n<hr>\n<p>참고 자료</p>\n<ul>\n<li><a href=\"https://ko.reactjs.org/docs/hooks-reference.html##useref\" target=\"_blank\" rel=\"nofollow\">Hooks API Reference – React</a></li>\n<li><a href=\"https://react.vlpt.us/basic/10-useRef.html\" target=\"_blank\" rel=\"nofollow\">10. useRef 로 특정 DOM 선택하기 · GitBook</a></li>\n<li><a href=\"https://react.vlpt.us/basic/12-variable-with-useRef.html\" target=\"_blank\" rel=\"nofollow\">12. useRef 로 useRef 로 컴포넌트 안의 변수 만들기 · GitBook</a></li>\n<li><a href=\"https://react.vlpt.us/basic/13-array-insert.html\" target=\"_blank\" rel=\"nofollow\">13. 배열에 항목 추가하기 · GitBook</a></li>\n</ul>","timeToRead":7,"frontmatter":{"title":"useRef는 처음이라 :: 개념부터 활용 예시까지","summary":"React useRef 개념과 대표적인 3가지 활용 방법을 예제와 함께 정리했습니다. 특정 DOM 선택하기, 컴포넌트 안의 변수 만들기, 리렌더링 방지하기","date":"2021-05-14","category":"React","thumbnail":{"publicURL":"/static/76721355b7e89b6ad735ea3d322de2b2/thumbnail.jpeg"}}}}]}},"pageContext":{"slug":"/react/what-is-use-ref/"}},"staticQueryHashes":["1663765485","2170400879","3026479947","4290078607"]}